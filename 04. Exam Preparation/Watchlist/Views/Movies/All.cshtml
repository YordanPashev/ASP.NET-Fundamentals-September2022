@using Watchlist.Models

@model MovieViewModel[]

@{
    ViewBag.Title = "Movies";
}

@if(ViewBag.UserMessage != null)
{
    <h3 class="text-center" style="color: red;">
        <strong style="background-color: yellow; border: 4px solid; border-color: green; border-radius: 5px">
            @ViewBag.UserMessage
        </strong>
    </h3> 
}   

<h2 class="text-center"><strong><i>@ViewBag.Title</i></strong></h2>
<hr />

<div class="text-center row" style="text-align: center">
    @foreach (var movie in Model)
    {
        <div class="card col-4 mb-2 mt-2" style="margin-left: 1rem; width: 19.4rem; background-color: transparent; border: 4px solid; border-radius: 15px; border-color: darkgray; backdrop-filter: blur(30px);">
            <img class="card mt-2" style="width: 17rem; height: 21rem; border: 2px solid; border-color: white; border-radius: 1px"
             src="@movie.ImageUrl" alt="Movie Image">
            <div class="card-body">

                <h2 class="card-title mt-1" style="color: darkred; font-weight: bold">@movie.Title</h2>
                <p class="mb-0" style="color: black; font-weight: bold"><i>Director: @movie.Director</i></p>
                <p class="mb-0" style="color: black; font-weight: bold"><i>Rating: @Math.Round(movie.Rating, 1) / 10</i></p>
                <p style="color: black; font-weight: bold"><i>Genre: @movie.Genre</i></p>
            </div>

            <form class="input-group-sm" asp-route-movieId="@movie.Id" asp-controller="Movies" asp-action="AddToCollection" method="post">
                <input type="submit" value="Add to your collection" class="fs-6 btn btn-success mb-3 p-2" />
            </form>
        </div>
    }
</div>
